Quick CYBIS operator's guide				05/02/07.

Here are some quick notes for common operator actions on CYBIS.
This version describes procedures for CYBIS running on NOS 2.8.7 on
the DtCyber emulator.

1. Startup.

The default is for Level 0 deadstart.  That is generally a good
choice.  

You can use level 3 deadstart under certain circumstances; that will
save a little time.  Level 3 deadstart is ONLY valid if:
     - be starting the SAME deadstart tape as last time.
     - last shutdown must have been a clean shutdown.

To do level 3 deadstart, enter the following at the first screen after
dtcyber startup (the *A* screen):

	O	 (*O* screen appears)
	P	 (*P* screen appears)
	I=3 <enter>     (I = 0 line changes to I = 3)
	enter

You will then get a screen with level 3 deadstart options, not the
usual *cmrinst* screen.  At this screen, enter "go."

1.1 Reinitializing ECS.

If the system (NOS or DtCyber) has crashed or is otherwise suspect
from the last time, it's a good idea to reinitialize ECS.  This is
done as part of a level 0 deadstart.  At the "cmrinst" screen, enter
the following:

    next. <enter>
    initialize,al,05. <enter>
    go. <enter>

The initial NOS display will then be "TESTING EXTENDED MEMORY" and
rapidly changing numbers, indicating that ECS is being initialized.

If you've done a clean shutdown, ECS does not need to be initialized
(but there is no harm in doing so).  You also don't need to do it just
because the deadstart tape was changed.

2. Shutdown.

First back out PLATO (1 3 from author mode).  Then, at the console:

      k,mas1. <enter>
      k.stop  <enter>
      [	      (to erase the "k.")
      unlock. <enter>
      check point system. <enter>
WAIT FOR "check point complete" message.  IMPORTANT!
      step. <enter>

Now go to the DtCyber operator window.  At that window, enter:
      unlock. <enter>
      shutdown. <enter>

2.1 Shutdown failures

Sometimes, if a PPU program is misbehaving, the "check point system"
step does not complete normally.  (Give it 30 seconds or so, but it
should complete fairly quickly.)  If that happens, do the following.
Do this right away, you get only ONE chance to do this and you
wouldn't want to wait till later and forget...

Now go to the DtCyber operator window.  At that window, enter:
        unlock. <enter>
	shutdown. <enter>
	<restart dtcyber>
	O P I=3 <enter>			(level 3 deadstart)

The Level 3 deadstart options display will appear.  Enter:
	abort. <enter>
	(I don't believe you enter "go." after that, but if nothing
	happens, do that next.)
	
You should get a display that says "check point complete" somewhere.
Enter ALT-O and shutdown, then restart dtcyber and do a level ZERO
deadstart. 

3. Crashes.

If PLATO (CYBIS) dies, you will get the dread "plato off" display on
all the terminals.  A memory dump will be generated and sent to the
printer.  Mastor will automatically restart things.

If Conden dies, you may be able to restart it from the menu from 1 at
author mode.

If Framat dies, enter:
	  drop,pla1. <enter>
and things should restart.

If Mastor dies, shut down the system and restart.

In any of the above, wait for any line printer output to stop (BIO
status is IDLE).  Then enter this command into the DtCyber operator window:
       unload,12,5. <enter>

You'll get a message saying that LP was unloaded to some long file
name.  That's the line printer output up to this point; save it for
analysis. 

If DtCyber dies, hopefully we'll have a corefile; save that for
analysis.  In all cases, if you do a restart, make it a level zero
deadstart, with ECS initialized.

4. The "black box"

Some PLATO systems had a black box (earlier, a tape, if I remember
right) that would transmit a fixed message periodically to all
terminals.  This is useful if the system is down for some reason; that
might be backups, or some planned (or unplanned) downtime of another
kind.

The DtCyber equivalent is the utility program "blackbox".  You can run
this when DtCyber is NOT running.  It takes one argument, which is the
message to be displayed.  It accepts connections from pterms, just as
DtCyber does.  It will ignore any input, and send the supplied message
to every connected terminal every 5 seconds. 

For example:

    ./blackbox "Backups in progress, expect PLATO back at 9:00 PST"

If no argument is given, the default is: "PLATO is down for the moment".

The black box runs until terminated (by control/C).  It takes very
little CPU time, so it can easily be used while the system is busy
doing backups or the like.
